<style>
  .products-grid .product-image-container {
    outline-color: #bdbdbd;
    outline-style: solid;
    outline-width: 1px;
    border: 10px solid transparent;
  }
  .products-grid a:hover .product-image-container {
    border-image: url("{{ 'pattern-271.jpg' | asset_url }}") 10 round;
    outline-color: transparent;
  }

  .product-code {
    color: #acacac;
  }
  .product-compare-price span {
    color: #bdbdbd;
  }

  #sort-by {
    border-color: #bdbdbd;
  }

  .sidebar-filter {
    max-width: 225px;
  }

  @media screen and (min-width: 1024px) {
    .sidebar-filter {
      margin-right: 75px;
    }
  }
  @media screen and (min-width: 1170px) {
    .products-grid {
      width: 870px;
    }

    .products-grid .product-image-container {
      min-height: 280px;
    }
  }
  
</style>
{% render 'stripe-pattern' %}

<div class="container mx-auto xct:flex xct:justify-between py-50px lg:py-100px">
  {% paginate collection.products by 12 %}
    <div class="sidebar-filter">
      <div class="category-filter pb-6 xct:pb-14">
        {% if collection.handle != 'all' %}
        <a href="javascript: history.go(-1)" class="flex items-center mb-5"><svg xmlns="http://www.w3.org/2000/svg" class="mr-2 max-w-[20px] block" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
        </svg>
         Back</a>
        {% endif %}
        <h4 class="uppercase font-extrabold text-lg font-euro border-b pb-4 mb-7 border-wc-black">Shop by categories</h4>

          {% if collection.handle == 'all' %}
          <a href="/collections/all" class="text-lg block">All</a>
          {% endif %}
        {% for product_type in collection.all_types %}
          {% if product_type == blank %}
            {% continue %}
          {% endif %}
          {{ product_type | link_to_type: class: 'text-lg block' }}
        {% endfor %}

        <div>
          
         <!--{% assign currentCol = collection.handle %}
     {% for collection in collections %}
      {% if collection.handle contains currentCol %}
         {{ collection.title }}
         // further code 
      {% endif %}
    {% endfor %} -->
        </div>
        
      </div>
      
      {% render 'filters', results: collection %}
    </div>
    <div>
      <div class="mt-11 lg:mt-0 flex flex-col md:flex-row justify-between items-center">
        <h1 class="uppercase text-3xl">{{ collection.title }}</h1>
        <div class="flex items-center">
          <p class="uppercase font-euro font-extrabold mr-4">Sort by</p>
          {% assign sort_by = collection.sort_by | default: collection.default_sort_by %}
          <div class="collection__sort flex justify-end" 
            >
            
            {% render 'loader' %}
      
            <select id="sort-by" x-model="sort" @change="sortCollection()" class="py-3 px-4 my-3 border border-black">
              {% for option in collection.sort_options %}
                <option value="{{ option.value }}" {% if option.value == sort_by %}selected="selected"{% endif %}>
                  {{ option.name }}
                </option>
              {% endfor %}
            </select>
            
          </div>
        </div>
      </div>
      
      <div class="products-grid py-50px lg:pb-100px grid grid-cols-1 gap-y-10 place-content-center lg:grid-cols-2 xct:grid-cols-3 lg:gap-x-30px lg:gap-y-12">
        {% for product in collection.products %}
          {% render 'product-card', product: product %}
        {% else %}
          <p>There are no products inside of this collection.</p>
        {% endfor %}
      </div>
      {% render 'pagination-custom', pagination: paginate %}
    </div>
    
  {% endpaginate %}
</div>